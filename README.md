# 小游戏合集 SillyTavern 扩展

一个为 SillyTavern 设计的小游戏合集扩展，提供多种内置小游戏和自定义外链游戏功能。

## 功能特性

- 🎮 **内置6款经典小游戏**：
  - 🐍 贪吃蛇
  - 🌾 种田游戏
  - ✈️ 飞行棋
  - 🐱 Nyan Cat
  - 💣 扫雷
  - 🔢 数独

- 🔗 **支持添加外链游戏**：可以通过URL添加任何在线小游戏
- 📱 **类似iPad的界面设计**：直观的网格布局，每个游戏都有图标和名称
- 🪟 **可拖拽浮动面板**：可以自由移动游戏面板位置
- 📉 **最小化功能**：支持最小化面板，不影响其他操作
- 💾 **设置持久化**：面板位置、大小和自定义游戏会自动保存
- 📱 **响应式设计**：在不同屏幕尺寸下都有良好的显示效果

## 安装方法

1. 将整个 `各种小游戏` 文件夹复制到 SillyTavern 的扩展目录：
   ```
   SillyTavern/data/<your-user>/extensions/各种小游戏/
   ```

2. 重启 SillyTavern

3. 在 SillyTavern 界面中找到 🎮 图标按钮（通常在底部扩展菜单区域）

## 使用方法

### 基本操作

1. **打开游戏面板**：点击 🎮 图标
2. **选择游戏**：在面板中点击任意游戏图标开始游戏
3. **返回游戏列表**：在游戏界面点击"← 返回游戏列表"按钮
4. **最小化面板**：点击面板标题栏的 "−" 按钮
5. **关闭面板**：点击面板标题栏的 "×" 按钮
6. **移动面板**：拖拽面板标题栏可以移动面板位置

### 添加自定义游戏

1. 点击游戏面板底部的"+ 添加外链游戏"按钮
2. 填写以下信息：
   - **游戏名称**：显示在面板中的名称
   - **游戏图标**：使用emoji作为图标（如：🎯）
   - **游戏链接**：游戏的完整URL地址
   - **游戏描述**：鼠标悬停时显示的描述
3. 点击"添加"按钮完成

### 面板控制

- **拖拽移动**：按住面板标题栏拖拽可以移动面板
- **最小化/展开**：点击 "−" 或 "+" 按钮
- **关闭面板**：点击 "×" 按钮
- **游戏全屏**：游戏在iframe中运行，支持游戏内的全屏功能

## 技术特性

- **基于 SillyTavern 扩展 API**：完全兼容 SillyTavern 的扩展系统
- **iframe 集成**：安全地加载外部游戏内容
- **本地存储**：使用 SillyTavern 的设置系统保存配置
- **事件驱动**：响应 SillyTavern 的应用事件
- **模块化设计**：代码结构清晰，易于维护和扩展

## 文件结构

```
各种小游戏/
├── manifest.json          # 扩展配置文件
├── index.js              # 主要逻辑代码
├── style.css             # 样式文件
├── README.md             # 说明文档
├── Gluttonous_Snake.html # 贪吃蛇游戏
├── Farming.html          # 种田游戏
├── Flight_chess.html     # 飞行棋游戏
├── Nyan_Cat.html         # Nyan Cat游戏
├── minesweeper.html      # 扫雷游戏
└── shudoku.html          # 数独游戏
```

## 兼容性

- **SillyTavern 版本**：要求 >= 1.10.10
- **浏览器支持**：现代浏览器（Chrome, Firefox, Safari, Edge）
- **移动设备**：支持响应式布局

## 自定义和扩展

### 添加更多内置游戏

1. 将游戏HTML文件放入扩展文件夹
2. 在 `index.js` 的 `builtInGames` 数组中添加游戏信息：

```javascript
{
    name: '游戏名称',
    icon: '🎮',
    file: 'game.html',
    description: '游戏描述'
}
```

### 修改样式

编辑 `style.css` 文件可以自定义：
- 面板颜色和渐变
- 游戏图标样式
- 按钮和交互效果
- 响应式断点

## 故障排除

### 常见问题

1. **扩展按钮不显示**
   - 检查文件路径是否正确
   - 确认 SillyTavern 版本兼容
   - 查看浏览器控制台错误信息

2. **游戏无法加载**
   - 检查游戏文件是否存在
   - 确认外链游戏URL是否有效
   - 检查浏览器是否阻止了iframe内容

3. **面板位置异常**
   - 重置扩展设置
   - 检查屏幕分辨率变化
   - 清除浏览器缓存

### 调试模式

在浏览器控制台中可以查看扩展的日志信息：
```javascript
console.log('小游戏合集扩展调试信息');
```

## 许可证

本扩展遵循开源许可证，欢迎贡献代码和反馈问题。

## 更新日志

### v1.0.0
- 初始版本发布
- 支持6款内置游戏
- 支持自定义外链游戏
- 实现可拖拽浮动面板
- 支持最小化功能
- 响应式设计